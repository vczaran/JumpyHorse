{"version":3,"file":"main.js","mappings":"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","sources":["webpack://jumpyhorse/./src/scripts/horse.js","webpack://jumpyhorse/./src/scripts/obstacle.js","webpack://jumpyhorse/./src/scripts/background.js","webpack://jumpyhorse/./src/scripts/view.js","webpack://jumpyhorse/./src/scripts/game.js","webpack://jumpyhorse/./src/index.js"],"sourcesContent":["export default class Horse {\n    constructor (x, y, width, height) {\n        this.gravity = 0.3;\n        this.x = x;\n        this.y = y;\n        this.speedX = 0;\n        this.speedY = 0;\n        this.width = width;\n        this.height = height;\n        this.counter = 0;\n        this.frameIndex = 0;\n        this.horses = document.getElementById(\"running-horse\").children;\n\n    }\n\n    drawHorse () {\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        this.counter += 1;\n\n        if (this.counter % 6 === 0) {\n            this.frameIndex += 1;\n            if (this.frameIndex === 5) {\n                this.frameIndex = 0;\n            };\n        };\n\n        ctx.drawImage(this.horses[this.frameIndex], this.x, this.y, this.width, this.height);\n    \n        this.move();\n        if (this.y > 360) {\n            this.y = 360;\n        };\n    }\n\n    move () {\n        this.y += this.speedY;\n        this.speedY += this.gravity;\n    }\n\n    jump () {\n        this.speedY = -10;\n    }\n}","\nexport default class Obstacle {\n\n    constructor (x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.speedX = 3;\n        this.width = width;\n        this.height = height;\n\n        this.fencepost = document.getElementById(\"fencepost\");\n    }\n\n    drawObstacle() {\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        // ctx.fillStyle = \"yellow\";\n        // ctx.fillRect(this.x, this.y, this.width, this.height);\n        ctx.drawImage(this.fencepost, this.x, this.y, this.width, this.height);\n        this.moveObstacle();\n    }\n\n    moveObstacle () {\n            this.x -= this.speedX;\n    }\n\n    // speedUp () {\n    //     if (score % 5 === 0) {\n    //         this.speedX += 1;\n    //     }\n    // }\n\n\n}","   \n   export default class Background {\n   constructor () {\n        this.bg = new Image();\n        if (process.env.NODE_ENV === 'development') {\n            this.bg.src = \"/assets/images/longfarm.png\";\n        } else if (process.env.NODE_ENV === 'production') {\n            this.bg.src = \"/JumpyHorse/assets/images/longfarm.png\";\n        }\n        this.x = 0;\n    }\n\n    drawBackground () {\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(this.bg, this.x-=3, 0, this.bg.width, 490);\n        if (this.x <= -4360) {\n            this.x = 0;\n        }\n    }\n\n   }","import Horse from \"./horse\";\nimport Obstacle from \"./obstacle\";\nimport Background from \"./background\";\n\n\nexport default class View {\n\n    constructor (canvas) {\n        this.audio = document.getElementById(\"gallop\");\n\n    //     const mute = document.getElementById(\"mute\");\n    //     let toggle = true;\n    //     mute.addEventListener(\"click\", () => {\n    //          toggle = !toggle;\n    //          if (!toggle) {\n    //             this.audio.play();\n    //          } else {\n    //              this.audio.pause();\n    //          }\n    //   });\n\n        this.over = false;\n        this.dimensions = { width: canvas.width, height: canvas.height };\n        this.bg = new Background();\n        this.score = 0;\n        this.horse = new Horse(20, 360, 100, 70);\n        this.obstacles = [new Obstacle(900, 360, 30, 70)];\n        this.intervalID = setInterval ( () => {\n            this.obstacles.push(new Obstacle(900, 360, 30, 70));\n            if (this.obstacles[0].x <= 0) {\n                this.obstacles.shift();\n            }\n        }, 7000);\n\n        window.addEventListener(\"keydown\", (e) => {\n            if (e.code === \"Space\" && this.horse.y === 360) {\n                this.horse.jump();\n            };\n        })\n\n    }\n\n\n    draw(ctx) {\n       if (!this.over) { \n        this.audio.play();\n        ctx.clearRect(0, 0, this.dimensions.width, this.dimensions.height);\n        this.bg.drawBackground();\n        this.horse.drawHorse();\n    \n        this.obstacles.forEach(obs => {\n            obs.drawObstacle();\n        });\n\n        this.drawScore();\n        \n        requestAnimationFrame(() => {\n            this.draw(ctx);\n            this.collision();\n        });\n    }\n\n    }\n\n    collision () {\n        const obs = this.obstacles[0];\n        const horse = this.horse;\n\n        if ((obs.x > horse.x) \n            && (obs.x < (horse.x + horse.width))\n            && ((obs.x + obs.width) > horse.x)\n            && ((obs.x + obs.width) < (horse.x + horse.width))\n            && (horse.y + horse.height >= obs.y)\n            && (horse.y + horse.height >= obs.y - obs.height))\n                {this.gameOver()}\n                    else \n                {this.scoreUp()};\n    }\n\n    scoreUp () {\n        if (this.horse.x > this.obstacles[0].x && this.obstacles[0].x > 17)\n        {this.score += 1;}\n    }\n\n    drawScore() {\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        this.x = 435;\n        this.y = 60;\n        ctx.font = \"40pt PixelSans\";\n        ctx.fillStyle = \"white\";\n        ctx.fillText(this.score, this.x, this.y);\n      }\n\n\n    gameOver() {\n        this.audio.pause();\n        this.over = true;\n        clearInterval(this.intervalID);\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        const endModal = document.getElementById(\"endModal\");\n        endModal.style.display = \"block\";\n        const restart = document.getElementById(\"restart-button\");\n        restart.onclick = function () {\n            this.over = false;\n            const view = new View(canvas);\n            view.draw(ctx);\n            endModal.style.display = \"none\";\n        };\n        }\n    }\n","import View from \"./view\";\n\n\nexport default class Game { \n    constructor(canvas) {\n        this.ctx = canvas.getContext(\"2d\");\n        this.dimensions = { width: canvas.width, height: canvas.height };\n        this.view = new View(canvas);\n    }\n\n    startGame(view) {\n         view.draw(this.ctx);\n    }\n\n}","import Game from './scripts/game';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const canvas = document.getElementById('background');\n    const game = new Game(canvas);\n    const startModal = document.getElementById(\"startModal\");\n    startModal.style.display = \"block\";\n    const start = document.getElementById(\"start-button\");\n    start.onclick = function () {\n        game.startGame(game.view);\n        startModal.style.display = \"none\";\n    };\n    \n})"],"names":["Horse","constructor","x","y","width","height","this","gravity","speedX","speedY","counter","frameIndex","horses","document","getElementById","children","drawHorse","ctx","getContext","drawImage","move","jump","Obstacle","fencepost","drawObstacle","moveObstacle","Background","bg","Image","src","drawBackground","View","canvas","audio","over","dimensions","score","horse","obstacles","intervalID","setInterval","push","shift","window","addEventListener","e","code","draw","play","clearRect","forEach","obs","drawScore","requestAnimationFrame","collision","gameOver","scoreUp","font","fillStyle","fillText","pause","clearInterval","endModal","style","display","onclick","Game","view","startGame","game","startModal"],"sourceRoot":""}