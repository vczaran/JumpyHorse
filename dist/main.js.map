{"version":3,"file":"main.js","mappings":"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","sources":["webpack://jumpyhorse/./src/scripts/horse.js","webpack://jumpyhorse/./src/scripts/obstacle.js","webpack://jumpyhorse/./src/scripts/background.js","webpack://jumpyhorse/./src/scripts/view.js","webpack://jumpyhorse/./src/scripts/game.js","webpack://jumpyhorse/./src/index.js"],"sourcesContent":["export default class Horse {\n    constructor (x, y, width, height) {\n        this.gravity = 0.3;\n        this.x = x;\n        this.y = y;\n        this.speedX = 0;\n        this.speedY = 0;\n        this.width = width;\n        this.height = height;\n        this.counter = 0;\n        this.frameIndex = 0;\n        this.horses = document.getElementById(\"running-horse\").children;\n\n    }\n\n    drawHorse () {\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        this.counter += 1;\n\n        if (this.counter % 6 === 0) {\n            this.frameIndex += 1;\n            if (this.frameIndex === 5) {\n                this.frameIndex = 0;\n            };\n        };\n\n        ctx.drawImage(this.horses[this.frameIndex], this.x, this.y, this.width, this.height);\n    \n        this.move();\n        if (this.y > 360) {\n            this.y = 360;\n        };\n    }\n\n    move () {\n        this.y += this.speedY;\n        this.speedY += this.gravity;\n    }\n\n    jump () {\n        this.speedY = -10;\n    }\n}","\nexport default class Obstacle {\n\n    constructor (x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.speedX = 3;\n        this.width = width;\n        this.height = height;\n\n        this.fencepost = document.getElementById(\"fencepost\");\n    }\n\n    drawObstacle() {\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        // ctx.fillStyle = \"yellow\";\n        // ctx.fillRect(this.x, this.y, this.width, this.height);\n        ctx.drawImage(this.fencepost, this.x, this.y, this.width, this.height);\n        this.moveObstacle();\n    }\n\n    moveObstacle () {\n            this.x -= this.speedX;\n    }\n\n    // speedUp () {\n    //     if (score % 5 === 0) {\n    //         this.speedX += 1;\n    //     }\n    // }\n\n\n}","   \n   export default class Background {\n   constructor () {\n        this.bg = new Image();\n        if (window.location.host === \"vczaran.github.io\") {\n            this.bg.src = \"/JumpyHorse/assets/images/longfarm.png\";\n        } else {\n            this.bg.src = \"/assets/images/longfarm.png\";\n        }\n        this.x = 0;\n    }\n\n    drawBackground () {\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(this.bg, this.x-=3, 0, this.bg.width, 490);\n        if (this.x <= -4360) {\n            this.x = 0;\n        }\n    }\n\n   }","import Horse from \"./horse\";\nimport Obstacle from \"./obstacle\";\nimport Background from \"./background\";\n\n\nexport default class View {\n\n    constructor (canvas) {\n        this.audio = document.getElementById(\"gallop\");\n        this.over = false;\n        this.dimensions = { width: canvas.width, height: canvas.height };\n        this.bg = new Background();\n        this.score = 0;\n        this.horse = new Horse(20, 360, 100, 70);\n        this.obstacles = [new Obstacle(900, 360, 30, 70)];\n        this.intervalID = setInterval ( () => {\n            this.obstacles.push(new Obstacle(900, 360, 30, 70));\n            if (this.obstacles[0].x <= 0) {\n                this.obstacles.shift();\n            }\n        }, 7000);\n\n        window.addEventListener(\"keydown\", (e) => {\n            if (e.code === \"Space\" && this.horse.y === 360) {\n                this.horse.jump();\n            };\n        })\n\n    }\n\n\n    draw(ctx) {\n       if (!this.over) { \n        const mute = document.getElementById(\"mute\");\n        let toggle = true;\n        mute.addEventListener(\"click\", () => {\n             toggle = !toggle;\n             if (!toggle) {\n                this.audio.play();\n             } else {\n                 this.audio.pause();\n             }\n      });\n        ctx.clearRect(0, 0, this.dimensions.width, this.dimensions.height);\n        this.bg.drawBackground();\n        this.horse.drawHorse();\n    \n        this.obstacles.forEach(obs => {\n            obs.drawObstacle();\n        });\n\n        this.drawScore();\n        \n        requestAnimationFrame(() => {\n            this.draw(ctx);\n            this.collision();\n        });\n    }\n\n    }\n\n    collision () {\n        const obs = this.obstacles[0];\n        const horse = this.horse;\n\n        if ((obs.x > horse.x) \n            && (obs.x < (horse.x + horse.width))\n            && ((obs.x + obs.width) > horse.x)\n            && ((obs.x + obs.width) < (horse.x + horse.width))\n            && (horse.y + horse.height >= obs.y)\n            && (horse.y + horse.height >= obs.y - obs.height))\n                {this.gameOver()}\n                    else \n                {this.scoreUp()};\n    }\n\n    scoreUp () {\n        if (this.horse.x > this.obstacles[0].x && this.obstacles[0].x > 17)\n        {this.score += 1;}\n    }\n\n    drawScore() {\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        this.x = 435;\n        this.y = 60;\n        ctx.font = \"40pt PixelSans\";\n        ctx.fillStyle = \"white\";\n        ctx.fillText(this.score, this.x, this.y);\n      }\n\n\n    gameOver() {\n        this.audio.pause();\n        this.over = true;\n        clearInterval(this.intervalID);\n        const canvas = document.getElementById(\"background\");\n        const ctx = canvas.getContext(\"2d\");\n        const endModal = document.getElementById(\"endModal\");\n        endModal.style.display = \"block\";\n        const restart = document.getElementById(\"restart-button\");\n        restart.onclick = function () {\n            this.over = false;\n            const view = new View(canvas);\n            view.draw(ctx);\n            endModal.style.display = \"none\";\n        };\n        }\n    }\n","import View from \"./view\";\n\n\nexport default class Game { \n    constructor(canvas) {\n        this.ctx = canvas.getContext(\"2d\");\n        this.dimensions = { width: canvas.width, height: canvas.height };\n        this.view = new View(canvas);\n    }\n\n    startGame(view) {\n         view.draw(this.ctx);\n    }\n\n}","import Game from './scripts/game';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const canvas = document.getElementById('background');\n    const game = new Game(canvas);\n    const startModal = document.getElementById(\"startModal\");\n    startModal.style.display = \"block\";\n    const start = document.getElementById(\"start-button\");\n    start.onclick = function () {\n        game.startGame(game.view);\n        startModal.style.display = \"none\";\n    };\n    \n})"],"names":["Horse","constructor","x","y","width","height","this","gravity","speedX","speedY","counter","frameIndex","horses","document","getElementById","children","drawHorse","ctx","getContext","drawImage","move","jump","Obstacle","fencepost","drawObstacle","moveObstacle","Background","bg","Image","window","location","host","src","drawBackground","View","canvas","audio","over","dimensions","score","horse","obstacles","intervalID","setInterval","push","shift","addEventListener","e","code","draw","mute","toggle","pause","play","clearRect","forEach","obs","drawScore","requestAnimationFrame","collision","gameOver","scoreUp","font","fillStyle","fillText","clearInterval","endModal","style","display","onclick","Game","view","startGame","game","startModal"],"sourceRoot":""}